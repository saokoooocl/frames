<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fondo de DJ</title>
    <!-- Importar nueva fuente estilo DJ desde Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <!-- Vuelve a la fuente 'Bungee Spice' para el texto principal -->
    <link href="https://fonts.googleapis.com/css2?family=Bungee+Spice&family=Knewave&display=swap" rel="stylesheet">

    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }

        body {
            background-image: url('https://xatimg.com/image/8ViOt4hhRaju.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            animation: subtle-zoom 25s infinite alternate ease-in-out; /* Efecto de zoom sutil */
        }

        /* Efecto de zoom para el fondo */
        @keyframes subtle-zoom {
            from {
                background-size: 100% 100%;
            }
            to {
                background-size: 110% 110%;
            }
        }

        #dj-effects-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1; /* Detrás de la foto del DJ y el texto */
            pointer-events: none;
        }
        
        /* Contenedor para la imagen del DJ y las luces */
        .dj-image-container {
            position: fixed;
            left: -5%; /* Ajustado para centrar mejor las luces */
            bottom: 0;
            height: 80vh;
            width: auto;
            z-index: 2;
            pointer-events: none;
        }

        .side-image-left {
            height: 100%;
            width: auto;
            object-fit: contain;
            /* Efecto de puzzle eliminado, solo queda el zoom */
            animation: zoom-pulse 3s infinite ease-in-out;
            position: relative; /* Para que las luces queden detrás */
            z-index: 10;
        }
        
        /* Estilos para las luces de discoteca (actualizados) */
        .spotlight {
            position: absolute;
            bottom: -50%;
            width: 200px;
            height: 300%;
            transform-origin: bottom center;
            z-index: 5;
            opacity: 0.6;
            filter: blur(5px);
        }

        .spotlight1 {
            left: 10%;
            animation: sweep1 4s infinite alternate ease-in-out;
        }

        .spotlight2 {
            right: 10%;
            animation: sweep2 5s infinite alternate ease-in-out;
        }
        
        .spotlight3 {
            left: 50%;
            animation: sweep3 6s infinite alternate ease-in-out;
        }

        @keyframes sweep1 {
            from {
                transform: rotate(-45deg) skewX(20deg);
                background: linear-gradient(to top, rgba(0, 255, 255, 0.7), transparent 60%);
            }
            to {
                transform: rotate(10deg) skewX(20deg);
                background: linear-gradient(to top, rgba(255, 0, 255, 0.7), transparent 60%);
            }
        }

        @keyframes sweep2 {
            from {
                transform: rotate(45deg) skewX(-20deg);
                background: linear-gradient(to top, rgba(255, 255, 0, 0.7), transparent 60%);
            }
            to {
                transform: rotate(-10deg) skewX(-20deg);
                background: linear-gradient(to top, rgba(0, 255, 0, 0.7), transparent 60%);
            }
        }
        
        @keyframes sweep3 {
            from {
                transform: translateX(-50%) rotate(20deg) skewX(-10deg);
                background: linear-gradient(to top, rgba(255, 105, 180, 0.7), transparent 60%);
            }
            to {
                transform: translateX(-50%) rotate(-20deg) skewX(-10deg);
                background: linear-gradient(to top, rgba(75, 0, 130, 0.7), transparent 60%);
            }
        }

        /* Nuevo efecto de zoom que se activa después del rompecabezas */
        @keyframes zoom-pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.03);
            }
        }

        /* Estilo para el contenedor de texto y bandera */
        .text-container {
            position: fixed;
            right: 15vw; 
            top: 50%; 
            transform: translateY(-50%);
            z-index: 2; 
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }
        
        /* Estilo para la bandera de Panamá */
        .panama-flag {
            width: 80px;
            height: auto;
            border: 2px solid white;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.7);
        }
        
        /* Efecto de bajos sonando */
        @keyframes bass-thump {
            0%, 100% {
                transform: scale(1);
                text-shadow: 3px 3px 0px #402712, 6px 6px 8px rgba(0,0,0,0.7);
            }
            50% {
                transform: scale(1.03);
                text-shadow: 4px 4px 2px #402712, 8px 8px 10px rgba(0,0,0,0.75);
            }
        }

        /* Estilo para el texto principal "DJ Demente" */
        .main-text {
            font-family: 'Bungee Spice', cursive;
            font-size: 6rem; 
            color: #6B4226; /* Tono de café chocolate */
            text-shadow: 3px 3px 0px #402712, 6px 6px 8px rgba(0,0,0,0.7);
            animation: bass-thump 0.5s infinite ease-in-out; /* Aplicando efecto de bajo */
        }

        /* Estilo para el subtítulo "El Tallador" */
        .subtitle-text {
            display: block;
            font-family: 'Knewave', cursive;
            font-size: 3rem;
            color: #000000;
            text-shadow: 0 0 3px #FFFFFF, 0 0 5px #CCCCCC;
            border-right: .15em solid #FFFFFF; /* Cursor de máquina de escribir */
            white-space: nowrap;
            overflow: hidden;
            margin: 0 auto;
            letter-spacing: .15em;
            animation: blink-caret .75s step-end infinite; /* Animación de parpadeo del cursor */
        }
        
        /* Animación para el cursor de la máquina de escribir */
        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: white; }
        }

        /* Ajustes para pantallas más pequeñas */
        @media (max-width: 768px) {
            .text-container {
                right: 50%;
                transform: translate(50%, -50%);
                width: 90%;
            }
            .main-text {
                font-size: 3.5rem;
            }
            .subtitle-text {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <canvas id="dj-effects-canvas"></canvas>
    
    <!-- Contenedor para la imagen del DJ y las luces -->
    <div class="dj-image-container">
        <img src="https://xatimg.com/image/V1oI9Ufb2ium.png" alt="DJ a la izquierda" class="side-image-left">
        <div class="spotlight spotlight1"></div>
        <div class="spotlight spotlight2"></div>
        <div class="spotlight spotlight3"></div>
    </div>


    <!-- Contenedor para el logo y subtítulo -->
    <div class="text-container">
        <!-- SVG de la bandera de Panamá -->
        <svg class="panama-flag" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
          <rect width="900" height="600" fill="#fff"/>
          <rect width="450" height="300" fill="#00529B"/>
          <rect x="450" y="300" width="450" height="300" fill="#D21034"/>
          <path d="M225 450l-29.3-21.5-29.4 21.5 11.2-34.8-29.4-21.5h36.3L225 359l11.2 34.7h36.3l-29.4 21.5 11.2 34.8z" fill="#00529B"/>
          <path d="M675 150l-29.3-21.5-29.4 21.5 11.2-34.8-29.4-21.5h36.3L675 59l11.2 34.7h36.3l-29.4 21.5 11.2 34.8z" fill="#D21034"/>
        </svg>
        <div>
            <span class="main-text">DJ Demente</span>
            <span class="subtitle-text"></span>
        </div>
    </div>

    <script>
        // --- SCRIPT DE PARTÍCULAS Y VISUALIZADOR (SIN CAMBIOS) ---
        const canvas = document.getElementById('dj-effects-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        let frame = 0;

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        const particleSettings = {
            count: 100,
            colors: ['#FFD700', '#FFA500', '#FF4500', '#FFFFFF'],
            minSize: 1,
            maxSize: 4,
            speed: 0.5
        };

        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * (particleSettings.maxSize - particleSettings.minSize) + particleSettings.minSize;
                this.color = particleSettings.colors[Math.floor(Math.random() * particleSettings.colors.length)];
                this.speedX = (Math.random() - 0.5) * particleSettings.speed;
                this.speedY = (Math.random() - 0.5) * particleSettings.speed;
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.x < 0 || this.x > canvas.width || this.y < 0 || this.y > canvas.height) {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                }
            }
            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        
        function drawVisualizer() {
            const bars = 40;
            const barWidth = canvas.width / bars;
            for (let i = 0; i < bars; i++) {
                const barHeight = (Math.sin((frame + i * 8) * 0.08) + 1) * 60 + 5;
                const x = i * barWidth;
                const y = canvas.height - barHeight;
                ctx.fillStyle = particleSettings.colors[i % particleSettings.colors.length];
                ctx.globalAlpha = 0.5;
                ctx.fillRect(x, y, barWidth - 2, barHeight);
                ctx.globalAlpha = 1.0;
            }
        }

        function initParticles() {
            for (let i = 0; i < particleSettings.count; i++) {
                particles.push(new Particle());
            }
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => { p.update(); p.draw(); });
            drawVisualizer();
            frame++;
            requestAnimationFrame(animate);
        }

        initParticles();
        animate();

        // --- SCRIPT PARA EFECTO MÁQUINA DE ESCRIBIR (SE EJECUTA UNA SOLA VEZ) ---
        const subtitleTextEl = document.querySelector('.subtitle-text');
        const textToType = "El Tallador";
        const typingSpeed = 150;

        function typeWriter(element, text, index, callback) {
            if (index < text.length) {
                element.textContent += text.charAt(index);
                setTimeout(() => typeWriter(element, text, index + 1, callback), typingSpeed);
            } else if (callback) {
                callback();
            }
        }

        function startTypewriterOnce() {
            typeWriter(subtitleTextEl, textToType, 0, () => {
                // Una vez que termina de escribir, el cursor sigue parpadeando gracias al CSS.
                // No se necesita hacer nada más.
            });
        }

        document.addEventListener('DOMContentLoaded', startTypewriterOnce);
    </script>
</body>
</html>


